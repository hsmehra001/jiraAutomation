{% extends "base.html" %}

{% block title %}Create Subtasks - Jira Automation{% endblock %}

{% block content %}
<div class="card">
    <h2>Create Standard Subtasks</h2>
    <p>This tool will create the following standard development subtasks under a parent story:</p>
    <ul>
        <li>Unit Test Case Execution</li>
        <li>Peer Code Review</li>
        <li>Analysis & Understanding</li>
        <li>Internal Grooming among Team Members</li>
        <li>Dev Testing</li>
        <li>Unit Test Case Creation</li>
        <li>P0 Demo to QA and other stakeholders</li>
    </ul>
    <p class="mt-2">All subtasks will be assigned to you with a 2-hour estimate.</p>

    <form id="createForm" class="mt-3">
        <div class="form-group">
            <label for="storyKey">Story Key *</label>
            <input 
                type="text" 
                id="storyKey" 
                name="storyKey" 
                placeholder="e.g., PROJ-123" 
                required
                pattern="[A-Z]+-[0-9]+"
            >
            <small>Enter the parent story key (e.g., PROJ-123)</small>
        </div>

        <div class="form-group">
            <label for="jiraPat">Jira Personal Access Token *</label>
            <input 
                type="password" 
                id="jiraPat" 
                name="jiraPat" 
                placeholder="Enter your Jira PAT" 
                required
            >
            <small>Your personal access token for Jira authentication</small>
        </div>

        <button type="submit" class="btn btn-primary">Create Subtasks</button>
    </form>

    <div id="error" class="alert alert-error" style="display: none;"></div>
    <div id="results" class="results" style="display: none;"></div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/subtask-creator.js') }}"></script>
{% endblock %}
